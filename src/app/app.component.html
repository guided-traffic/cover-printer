<div class="app-container">
  <!-- Header -->
  <header class="header no-print">
    <div class="header-content">
      <h1>
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="3" width="20" height="14" rx="2"></rect>
          <path d="M8 21h8"></path>
          <path d="M12 17v4"></path>
        </svg>
        Cover Printer
      </h1>
      <p class="subtitle">Position and print multiple pictures on photo paper</p>
    </div>
  </header>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Control Panel -->
    <aside class="control-panel no-print">
      <div class="control-section">
        <h2>Paper Size</h2>
        <div class="form-group">
          <label for="paper-size">Size</label>
          <select id="paper-size" (change)="onPaperSizeChange($event)">
            <option *ngFor="let size of paperSizes; let i = index" [value]="i">
              {{ size.label }}
            </option>
          </select>
        </div>
      </div>

      <div class="control-section">
        <h2>Picture Size</h2>
        <div class="form-group">
          <label for="picture-width">Width (mm)</label>
          <input
            type="number"
            id="picture-width"
            [(ngModel)]="pictureWidth"
            (ngModelChange)="onParameterChange()"
            min="1"
            step="0.5"
          />
        </div>
        <div class="form-group">
          <label for="picture-height">Height (mm)</label>
          <input
            type="number"
            id="picture-height"
            [(ngModel)]="pictureHeight"
            (ngModelChange)="onParameterChange()"
            min="1"
            step="0.5"
          />
        </div>
      </div>

      <div class="control-section">
        <h2>Spacing</h2>
        <div class="form-group">
          <label for="margins">Page Margins (mm)</label>
          <input
            type="number"
            id="margins"
            [(ngModel)]="margins"
            (ngModelChange)="onParameterChange()"
            min="0"
            step="0.5"
          />
        </div>
        <div class="form-group">
          <label for="spacing">Picture Spacing (mm)</label>
          <input
            type="number"
            id="spacing"
            [(ngModel)]="spacing"
            (ngModelChange)="onParameterChange()"
            min="0"
            step="0.5"
          />
        </div>
      </div>

      <div class="info-section">
        <div class="info-card">
          <div class="info-label">Grid Layout</div>
          <div class="info-value">{{ columns }} × {{ rows }}</div>
          <div class="info-sub">{{ columns * rows }} pictures per page</div>
        </div>
        <div class="info-card">
          <div class="info-label">Print Quality</div>
          <div class="info-value">300 DPI</div>
          <div class="info-sub">Professional quality</div>
        </div>
      </div>

      <div class="instructions">
        <h3>How to use</h3>
        <ol>
          <li>Configure paper and picture sizes above</li>
          <li>Drag images onto the placeholders</li>
          <li>Click and drag to reposition images</li>
          <li>Use mouse wheel to zoom in/out</li>
          <li>Press <kbd>Ctrl+P</kbd> (or <kbd>⌘+P</kbd>) to print</li>
        </ol>
      </div>
    </aside>

    <!-- Print Area -->
    <main class="print-preview">
      <div class="preview-container">
        <div class="paper"
             [style.width.cm]="selectedPaperSize.width"
             [style.height.cm]="selectedPaperSize.height">
          <div class="grid-container">
            <div
              *ngFor="let placeholder of placeholders"
              class="placeholder"
              [style.width.mm]="pictureWidth"
              [style.height.mm]="pictureHeight"
            >
              <div class="placeholder-content">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                  <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                  <circle cx="8.5" cy="8.5" r="1.5"></circle>
                  <path d="M21 15l-5-5L5 21"></path>
                </svg>
                <span>Drop image here</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>

<router-outlet />
